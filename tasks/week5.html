<!DOCTYPE html>
<html>
<head>
<title>Classes and Objects Tutorial</title>
<link href="styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<h1>Week 5 Tutorial: Classes and Objects</h1>

<h2>Bug Swatting</h2>

<p>
Your tutors have tried to write a program which finds the first <tt>n</tt>
prime numbers, for some <tt>n</tt>. Unfortunately, their code has several bugs
in it, and they need some help. Their code is shown below; your task is to find
and fix the errors.
</p>


<pre>
<span class="keyword">def</span> <span class="classordef">is_prime</span>(n):
    <span class="string">"""Return True if n is a prime number.

    is_prime(int) -&gt; bool
    """</span>
   <span class="keyword"> for </span>i<span class="keyword"> in </span><span class="builtin">range</span>(2, n):
        <span class="comment"># Check if i is a factor of n</span>
       <span class="keyword"> if </span>n % i == 0:
            <span class="keyword">return</span> <span class="builtin">False</span>
        <span class="keyword">else</span>:
            <span class="keyword">return</span> <span class="builtin">True</span>

<span class="keyword">def</span> <span class="classordef">get_primes</span>(n):
    <span class="string">"""Return a list of the first n primes.

    get_primes(int) -&gt; list(int)
    """</span>
    primes = <span class="string">''</span>
    i = 2
    <span class="keyword">while</span> <span class="builtin">len</span>(primes) &lt; n:
       <span class="keyword"> if </span>is_prime(i):
            primes.append(i)
            i += 1

n = <span class="builtin">int</span>(<span class="builtin">raw_input</span>(<span class="string">"How many primes? "</span>))
<span class="keyword">print</span> <span class="string">"The first"</span> + n + <span class="string">"primes are:"</span>, primes
</pre>

<p>
The following example shows how the program should work:
</p>

<pre>
<span class="result">How many primes? </span>7
<span class="result">The first 7 primes are: [2, 3, 5, 7, 11, 13, 17]</span>
</pre>

<h2>Using Enumerate</h2>

<p>it is often useful for a <tt><span class="builtin">for</span></tt> loop to
be able to access both the value of some element in a sequence and its index at
the same time. We can do this using the 
<tt><span class="builtin">enumerate</span></tt> function.
</p>

<p>
<tt><span class="builtin">enumerate</span></tt> generates a sequence of tuples, 
where the first item in the tuple is the index of the current in the sequence 
and the second item is its value. A <tt><span class="builtin">for</span></tt> 
loop can the iterate over both items at once.
</p>

<div class="important">
<b>Example:</b>
<pre>
<span class="prompt"></span> for index, item in enumerate('abc'):
<span class="prompt"></span>&nbsp;&nbsp;&nbsp;&nbsp;print index, item
<span class="result"></span> 0 a
<span class="result"></span> 1 b
<span class="result"></span> 2 c
</div>

<p>
The message below has been encoded using a very simple scheme: a random letter 
has been inserted before every second letter in the original message (starting 
with the first letter, ie indexed from 0).
</p>

<pre>
<span class="prompt">&gt;&gt;&gt;</span>&nbsp;encode(<span class="string">'Test of encoding function')</span>
<span class="result"></span> 'lTretsxty qocfz aeunrcoomdliknegv zfzuwnfcrtzixotn'
</pre>

<p>
In this task, you will need to write a <tt><span class="builtin">decode</span></tt>
that takes a single encoded string as an argument and returns the original message.
</p>

<pre>
<span class="prompt">&gt;&gt;&gt;</span>&nbsp;decode(<span class="string">'lTretsxty qocfz aeunrcoomdliknegv zfzuwnfcrtzixotn')</span>
<span class="result"></span> 'Test of encoding function'
</pre>

<p>
This can also be done using string slicing in just one line!
</p>

<h2>For Loops and File I/O</h2>

<p>
When designing real applications or scripts in python, you will almost always want to read data from and write data to files on the hard drive. Python handles file reads and writes through file objects, which are created by the <tt><span class="builtin">open</span></tt> function
</p>

<div class="important">
<b>Example:</b>
<pre>
<span class="prompt">&gt;&gt;&gt;</span> f = open(<span class="string">'psn_paswords.txt'</span>, <span class="string">'U'</span>)
<span class="prompt">&gt;&gt;&gt;</span> f
<span class="result"></span> open file 'psn_passwords.txt', mode 'U' at 0x1016efc90
</div>

<p>
Files are iterable objects in python, which means you can use a for loop to look at their contents one line at a time, just as you can use them to process characters in strings and items in lists.
</p>

<pre>
<span class="prompt">&gt;&gt;&gt;</span>&nbsp;for lineNum, line in enumerate(f):
<span class="prompt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print i, line </span>
<span class="result"></span>
<span class="result">0 sony@psn.net guest</span>

</pre>

<p>
Write a function <tt><span class="builtin">parse_file</span></tt> that takes one argument, 
<tt><span class="builtin">filename</span></tt>, which points to a file containing python code
and extracts information about functions in that file.
You can create such a file by combining solutions to previous tutorial questions 
or you can use the example file provided on the website.
</p>

<p>
Your function should parse this file to return a list of tuples of the form
(<tt><span class="builtin">linenum</span></tt>, <tt><span class="builtin">function</span></tt>,
<tt><span class="builtin">args</span></tt>). <tt><span class="builtin">linenum</span></tt>
is the line number of a function, <tt><span class="builtin">function</span></tt> is
the name of that function and <tt><span class="builtin">args</span></tt> is a tuple containing the argument names (if any).

</html>
