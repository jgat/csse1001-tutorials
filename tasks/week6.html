<!DOCTYPE html>
<html>
<head>
<title>Classes, Error Handling and I/O Tutorial</title>
<link href="styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<h1>Week 6 Tutorial: Classes, Error Handling and I/O</h1>

<h2>Scrabble Scoring</h2>
<!-- TODO decide what to do with this
<p>
The following dictionary contains the letters from a to e as keys, with the
associated index within the alphabet as the value.
</p>

<pre>
<span class="prompt">&gt;&gt;&gt;</span>&nbsp;d = {'a': 1, 'b': 2, 'c': 3, 'd': 4, 'e': 5}
<span class="prompt">&gt;&gt;&gt;</span>&nbsp;d
<span class="result">{'a': 1, 'b': 2, 'c': 3, 'd': 4, 'e': 5}</span>
</pre>

<p>
The value associated with a given key can be accessed by using the key as an index
to the dictionary:
</p>

<pre>
<span class="prompt">&gt;&gt;&gt;</span>&nbsp;d['e']
<span class="result">5</span>
</pre>

<p>
Values can be added to a dictionary by a simple assignment statement, as
shown below. If the key already exists, its value will be updated; if it does
not, then a new key will be created with the specified value.
</p>

<pre>
<span class="prompt">&gt;&gt;&gt;</span>&nbsp;d['e'] = 0
<span class="prompt">&gt;&gt;&gt;</span>&nbsp;d['e']
<span class="result">0</span>
<span class="prompt">&gt;&gt;&gt;</span>&nbsp;d['f'] = 10
<span class="prompt">&gt;&gt;&gt;</span>&nbsp;d
<span class="result"> {'a': 1, 'b': 2, 'c': 3, 'd': 4, 'e': 0, 'f': 10}</span>
</pre>
-->

<p>
In the game <em>Scrabble</em>, points are scored by summing the value of the
letters in a word. Different letters are assigned different values, based
on how difficult it is to use the letter in a word. Below
is a table that maps each letter to it's corresponding value. (Click the image
for a larger version.)
</p>

<a href="img/ScrabbleMappings.png"><img src='img/ScrabbleMappings.png' alt='Scrabble Mappings' height="250px"/></a>

<ol>
<li>
<p>
Download the file <a href="scrabble_scores.txt">scrabble_scores.txt</a>.
This file contains each of the
letters in the alphabet with their corresponding scrabble value.
Write a function <tt>read_scores</tt> which uses this file to create a dictionary
that maps letters to their scrabble score.
</p>

<p>Why can't we create a dictionary that does the reverse - that is,
maps a scrabble score to the letter which gains that score?</p>
</li>

<li>
<p>Write a function <tt>get_score(word)</tt>, that takes a string as input
and returns the word's scrabble score. (You may assume that the input only
consists of lowercase letters).</p>

<pre>
<span class="prompt">&gt;&gt;&gt;</span> get_score(<span class="string">'quack'</span>)
<span class="result">20</span>
</pre>
</li>
</ol>

<h2>Reading Configuration Files</h2>

<p>
When an application has to store information about how it's configured (for
example, a user's preferences), it can do it by writing the information to a
file, which can later be retrieved. When reading the configuration file, the
application must translate the file into a suitable format, such as a dictionary.
</p>

<p>
Download the file <a href="config.txt">config.txt</a>, which contains the following:
</p>

<pre>
[user]
name=Homer Simpson
email=h.simpson@nplant.com
mobile=0412345678
[notifications]
email=yes
sms=no
</pre>

<p>
In this format, each piece of data has a name (e.g. <tt>email</tt>) and a value
(e.g. <tt>h.simpson@nplant.com</tt>). The names/values are grouped under a
heading (such as <tt>user</tt> or <tt>notifications</tt>).
Each line in the file contains either a heading (surrounded by <tt>[]</tt> brackets),
name/value pair (separated by an <tt>=</tt>).
</p>

<p>
Write a function <tt>read_config</tt> which takes a configuration file such as
this, and returns a dictionary representation of the data, as in this example:
</p>

<pre>
<span class="prompt">&gt;&gt;&gt;</span> read_config(<span class="string">'config.txt'</span>)
<span class="result">{'user': {'name': 'Homer Simpson',
          'email': 'h.simpson@nplant.com',
          'mobile': '0412345678'},
 'notifications': {'email': 'yes', 'sms': 'no'}}</span>
</pre>

<p>
Also write a function <tt>get_value</tt> which takes the above dictionary, and
the dot-separated name of a setting (e.g. 'user.mobile'), and returns the
appropriate value ('0412345678' in this case). It is safe to assume the inputs
are valid.
</p>

<pre>
<span class="prompt">&gt;&gt;&gt;</span> config = get_config(<span class="string">'config.txt'</span>)
<span class="prompt">&gt;&gt;&gt;</span> get_value(config, <span class="string">'user.mobile'</span>)
<span class="result">'0412345678'</span>
<span class="prompt">&gt;&gt;&gt;</span> get_value(config, <span class="string">'notifications.email'</span>)
<span class="result">'yes'</span>
</pre>
</li>

<p>
Modify your <tt>read_config</tt> function so that it raises a
<tt><span class="builtin">ValueError</span></tt> if the file is invalid; that is,
if the file contains a line which does not look like
<tt>[...]</tt> or <tt>...=...</tt>, or if the file contains any name/value pairs
before the first heading. You may wish to test your code on the following files:
<a href="bad_config1.txt">bad_config1.txt</a>,
<a href="bad_config2.txt">bad_config2.txt</a>.
</p>


<p>Throughout this exercise, it is safe to assume that the headings/names/values
in the file do not contain the characters <tt>[ ] =</tt>, and that the
headings/names do not contain '<tt>.</tt>'
</p>

<!-- TODO decide what to do with this
<h2>Errors and Exceptions</h2>

<p>
It is highly likely that you will have experience an error or exception of some
sort so far in the course. It's okay - we all make them. The most common error
that we are likely to experience is the <i>Syntax Error</i>. Such an error is
experienced when we write code that Python is unable to parse. For example:
</p>

<pre>
<span class="prompt">&gt;&gt;&gt;</span> for i in range(10)
<span class="result"></span>SyntaxError: invalid syntax
</pre>

<p>
Often programs will rely on input from a user. In these cases, there can be no
guarantee that the user will input acceptable data. Hence, we must be able to
catch any errors (Exceptions) and handle them appropriately.
Handling an error simply requires us to surround the susceptible code in a
<tt><span class="builtin">try</span></tt>, <tt><span class="builtin">except</span></tt>
statement. A simple example of this is given below:
</p>

<pre>
<span class="prompt">&gt;&gt;&gt;</span> try:
<span class="prompt">&gt;&gt;&gt;</span>     42/0
<span class="prompt">&gt;&gt;&gt;</span> except Exception:
<span class="prompt">&gt;&gt;&gt;</span>     print 'Cannot divide by zero!'
<span class="result"></span>
<span class="result"></span>Cannot divide by zero!
</pre>

<p>
Exceptions can also be raised using a <tt><span class="builtin">raise</span></tt>
statement. An accompanying message can be included in the exception. An example
has been provided below:
</p>

<pre>
<span class="prompt"></span>def countChars(word):
<span class="prompt"></span>    if type(word) != str:
<span class="prompt"></span>        raise TypeError("The input was not a string")
<span class="prompt"></span>    else:
<span class="prompt"></span>        return len(word)

<span class="prompt">&gt;&gt;&gt;</span> countChars(42)
<span class="result"></span>Traceback (most recent call last):
<span class="result"></span>  File "<pyshell#17>", line 1, in <module>
<span class="result"></span>    countChars(1)
<span class="result"></span>  File "/home/CSSE1001/Tutorials/Week 6", line 3, in countChars
<span class="result"></span>    raise TypeError("The input was not a string.")
<span class="result"></span>TypeError: The input was not a string.
</pre>

-->
</body>
</html>
